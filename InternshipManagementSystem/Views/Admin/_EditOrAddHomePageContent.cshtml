@model InternshipManagementSystem.Models.HomePageContent

@{
    //string onSuccess = "InternshipTaskSubmitEndLoading(&quot;" + (ViewData["editInternshipTaskNo"].ToString() != "createInternshipTask" ? ViewData["editInternshipTasktNo"].ToString() : "addNewInternshipTask") + "&quot;)";
    string onStart = "InternshipTaskSubmitStartLoading(\"" + (ViewData["editHomePageContentNo"].ToString() != "createHomePageContent" ? ViewData["editHomePageContentNo"].ToString() : "addNewHomePageContent") + "\")";
    var anchorId = ViewData["editHomePageContentNo"] + "DisplayTabContent";
}

<div class="panel-heading">
    @if (ViewData["editHomePageContentNo"].ToString() != "createInternshipTask")
    {
        <span>Edit <span>@Model.Title</span></span>
        <a href="#@anchorId" data-toggle="tab" class="cancelLabelAnchor">
            <span class="label label-default cancelLabel">
                Cancel
            </span>
        </a>
                }
                else
                {
                    <span>Add new announcement</span>
                }
</div>
<div class="panel-body" id="@ViewData["editHomePageContentNo"]">
    @using (Ajax.BeginForm("EditOrAddHomePageContent", "Admin", null, new AjaxOptions { UpdateTargetId = "homePageContent", HttpMethod = "POST", OnBegin = "ContractSubmitStartLoading(\"" + ViewData["edithomePageContentNo"] + "\")" }, new { @class = "form-horizontal ", role = "form" }))
    {
        @Html.AntiForgeryToken()
        <table class="table">
            <tbody>
                <tr>
                    <td class="col-xs-3"><strong>Title</strong></td>
                    <td class="col-xs-9">
                            @Html.TextBoxFor(m => m.Title, new { @class = "form-control" })
                    </td>
                </tr>
                <tr>
                    <td class="col-xs-3"><strong>Content</strong></td>
                    <td class="col-xs-9">@Html.TextAreaFor(m => m.Content, new { @class = "form-control", rows = "10" })</td>
                </tr>
                @Html.HiddenFor(m => m.HomePageContentId)
            </tbody>
            <tbody>
                <tr>
                    <td></td>
                    <td class="col-xs-9">
                        <input type="submit" class="btn btn-default submitButton" style="margin-top: 10px" value="上传" />&nbsp;
                        <img class="fakeLoader" src="~/Picture/loading.gif" style="margin-top: -19px" />
                        <span class="alert alert-danger failingAlert">Uploading failed.</span>
                    </td>
                </tr>
            </tbody>
        </table>
    }
</div>
